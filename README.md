# Watcher
## 一个泰拉瑞亚tshock插件

## 功能介绍：

### 1. 能够对游戏内玩家行为的详细信息进行记录。
记录每个玩家手里拿着什么物品、丢弃什么物品、生成什么射弹（在有人炸图或乱喷腐化溶液的时候可以快速找到嫌疑人），均记录在Watcher文件夹内的logs里，玩家作弊信息记录在cheatlogs里。支持1.44中雪溶液和沙溶液的检测。

### 2. 多线钓鱼检测
支持对多线钓鱼的检测，包括1.44中新增的一堆钓鱼浮标饰品，并且能在配置文件中设置最多允许几线钓鱼（你会赞成作弊吗？）。

### 3. 射弹伤害检测
tshock自带射弹伤害检测，但是没有排除1.44中新增的升级版泰拉剑，永夜，真永夜，圣剑等特效武器的bug，这些武器在搭配可耻或传奇词缀或者玩家佩戴泰坦手套及上级合成物时会意外触发假高额伤害，尽管游戏里并不会伤害过高，但会被tshock的检测误判，这个功能的目的在于让你关掉tshock的射弹伤害检测，启用优化过的。

### 4. 物品作弊检测
新版本应用了新的算法，对游戏内所有敌怪的掉落物进行监督，若未击败过这种生物却获得了这个物品则算作弊。不可掉落的物品仍然按照以前的垃圾查找来鉴别是否作弊，总之更新物品检测范围更大了，也更精确了（不包括装饰性家具，画等），这会检测玩家的所有物品，包括猪猪，虚空袋，熔炉，保险箱，另外两套装备栏。
注意，敌怪掉落物检测依靠图鉴内容进行判定，任何非玩家友方npc杀死的敌人不会计入图鉴，同样也不算入击杀次数，如各种机关岩浆（这种生物你不会一次都没击杀过吧？）


### 6. 更高级的作弊统计
目前只有4钟作弊类型统计，如上四条，现在可以单独在配置文件中设置每种作弊类型的处理方式了
#### `"XX作弊是否计入总违规作弊次数": true,`
通过修改为true将违反这种检测的玩家塞入作弊名单，这会统计他们总共的作弊次数，false则不统计；
#### `"伤害作弊警告方式": 3,`
通过修改数值来决定惩罚方式：0 仅仅口头警告，发送两条私聊消息警告作弊玩家。1 玩家会被施加debuff封住一段时间并发送广播警告。2 直接杀死玩家并发送广播消息警告。3 kick掉玩家。4 直接ban掉玩家。范围 0~4 的整数
#### `"最多违规作弊次数": 10,`
通过修改该值来决定最多违规作弊次数，当玩家总共作弊次数达到该值时，直接ban，若上一条`警告方式`直接设置为4，那么这个就没有意义了。
#### 作弊玩家数据`CheatPlayers.json`
现将作弊玩家数据写入该文件钟，这个文件记录了玩家名称，uuid，违法了哪种作弊类型，总计作弊次数。当然你也可以在这里修改玩家的作弊信息再`/reload`，但请不要修改uuid，这么做并不会修改原玩家的uuid。

### 7. 恶魔心饰品栏限制
tshock不会把恶魔心饰品栏的栏位数据保存在服务器，这导致玩家之间的饰品栏数目有差异，为了更公平，该功能启用后会强制在肉前将游戏内所有玩家恶魔心饰品栏里的饰品卸下来，该功能不算违规检测，属于一种强制执行操作。
